document.addEventListener('DOMContentLoaded', () => {
  const quizContent = document.getElementById('quiz-content');
  const resultContainer = document.getElementById('result');
  const resultText = document.getElementById('result-text');
  const restartBtn = document.getElementById('restart-btn');
  const homeBtn = document.getElementById('home-btn');
  const progressBar = document.getElementById('progress-bar');
  const quizContainer = document.getElementById('quiz-container');

  const quizData = [
  {
    question: "Какой цвет отражает твоё настроение сегодня?",
    answers: [
      { text: "Ярко-красный — пульс страсти и жажда жизни, огонь, что согревает и не боится гореть", type: "a" },
      { text: "Мягкий голубой — дыхание неба, легкое и прозрачное, что приносит покой и умиротворение", type: "b" },
      { text: "Глубокий фиолетовый — завеса тайны и глубоких размышлений, цвет мечт и внутренних миров", type: "c" },
      { text: "Яркий жёлтый — луч солнца, что пробуждает радость и освещает даже самые темные уголки души", type: "d" },
      { text: "Зелёный — шелест листвы и дыхание земли, гармония природы и вечное обновление", type: "e" }
    ]
  },
  {
    question: "Какой цвет тебе хотелось бы видеть чаще вокруг?",
    answers: [
      { text: "Оранжевый — искра вдохновения и творчества, зов к новым открытиям и смелым мечтам", type: "a" },
      { text: "Белый — чистый лист и начало пути, пространство для новых надежд и светлых мыслей", type: "b" },
      { text: "Индиго — глубина ночи и поиск смысла, цвет мудрости и внутреннего света", type: "c" },
      { text: "Розовый — нежность прикосновения и трепет сердца, цвет любви, что окутывает теплом", type: "d" },
      { text: "Коричневый — стабильность и уют, прочный фундамент, на котором расцветают мечты", type: "e" }
    ]
  },
  {
    question: "Какой цвет ты ассоциируешь с мотивацией?",
    answers: [
      { text: "Красный — пульс движения и силы, энергия, которая заставляет не останавливаться", type: "a" },
      { text: "Голубой — ясность мысли и стремление к цели, спокойная решимость и вера в себя", type: "b" },
      { text: "Фиолетовый — вдохновение, что рождается в тишине и окутывает творческим светом", type: "c" },
      { text: "Жёлтый — свет надежды и позитив, который ведет к новым вершинам", type: "d" },
      { text: "Зелёный — уверенность в росте и развитии, гармония пути и силы природы", type: "e" }
    ]
  },
  {
    question: "Какой цвет тебя расслабляет?",
    answers: [
      { text: "Персиковый — нежность, что обнимает и наполняет сердце теплом", type: "a" },
      { text: "Светло-голубой — прохлада утреннего ветра, легкая свежесть и легкость бытия", type: "b" },
      { text: "Темно-синий — бездна спокойствия и глубина тишины, где можно раствориться", type: "c" },
      { text: "Лавандовый — мягкая нежность цветов, убаюкивающая и ласкающая душу", type: "d" },
      { text: "Оливковый — естественная простота природы, покой и устойчивость", type: "e" }
    ]
  },
  {
    question: "Какой цвет для тебя символизирует счастье?",
    answers: [
      { text: "Оранжевый — искристое веселье и звонкий смех, праздник жизни в каждом мгновении", type: "a" },
      { text: "Белый — легкость и свобода, как утро после дождя, полное новых возможностей", type: "b" },
      { text: "Фиолетовый — магия и загадка, счастье, рожденное в глубинах души", type: "c" },
      { text: "Розовый — тепло и любовь, цвет, что греет сердце и заставляет мечтать", type: "d" },
      { text: "Зелёный — свежесть жизни и надежда, пробуждающая желание расти и творить", type: "e" }
    ]
  },
  {
    question: "Какой цвет ассоциируется с уверенностью?",
    answers: [
      { text: "Красный — сила и воля, пульс сердца, ведущий сквозь любые испытания", type: "a" },
      { text: "Голубой — мудрость и спокойствие, внутренний компас и твердость духа", type: "b" },
      { text: "Фиолетовый — внутренняя сила и таинственная глубина, которая помогает стоять на своем", type: "c" },
      { text: "Жёлтый — свет и энергия, уверенность, что озаряет путь вперед", type: "d" },
      { text: "Зелёный — устойчивость и связь с землей, прочный оплот и надежный союзник", type: "e" }
    ]
  },
  {
    question: "Какой цвет вдохновляет тебя на творчество?",
    answers: [
      { text: "Ярко-красный — энергия и страсть, огонь, который разгорается в сердце художника", type: "a" },
      { text: "Нежно-голубой — мечты и чистота мыслей, свежий ветер идей и вдохновения", type: "b" },
      { text: "Глубокий фиолетовый — тайна и загадка, творческая сила, рожденная в тишине", type: "c" },
      { text: "Солнечный жёлтый — свет и радость, которые дарят крылья и силу для творчества", type: "d" },
      { text: "Зелёный — гармония и рост, постоянное движение вперед и обновление", type: "e" }
    ]
  },
  {
    question: "Какой цвет отражает твою внутреннюю гармонию?",
    answers: [
      { text: "Оранжевый — тепло и свет, баланс между страстью и спокойствием", type: "a" },
      { text: "Белый — чистота и прозрачность души, состояние легкости и свободы", type: "b" },
      { text: "Индиго — глубина мысли и умиротворение в таинстве внутреннего мира", type: "c" },
      { text: "Розовый — нежность и забота, мягкость, что дарит покой", type: "d" },
      { text: "Коричневый — прочность и надежность, спокойствие корней и уверенность в себе", type: "e" }
    ]
  },
  {
    question: "Какой цвет для тебя символизирует энергию?",
    answers: [
      { text: "Красный — живая сила и пыл, что ведет к действию и новым вершинам", type: "a" },
      { text: "Голубой — чистота намерений и спокойная сила духа", type: "b" },
      { text: "Фиолетовый — вдохновение и мистическая энергия творца", type: "c" },
      { text: "Жёлтый — сияние солнца, свет и радость в каждом мгновении", type: "d" },
      { text: "Зелёный — живительная сила природы, энергия роста и обновления", type: "e" }
    ]
  },
  {
    question: "Какой цвет ты бы выбрал для своего личного пространства?",
    answers: [
      { text: "Ярко-красный — пространство страсти и силы, место, где горит огонь вдохновения", type: "a" },
      { text: "Мягкий голубой — оазис покоя и мечтаний, где мысли парят в безмятежности", type: "b" },
      { text: "Глубокий фиолетовый — уголок тайны и творчества, хранилище внутренних сокровищ", type: "c" },
      { text: "Солнечный жёлтый — дом света и радости, наполненный теплом и энергией", type: "d" },
      { text: "Природный зелёный — убежище гармонии и естественности, вдохновленное дыханием леса", type: "e" }
    ]
  }
];


  let currentQuestionIndex = 0;
  let answersCount = { a: 0, b: 0, c: 0, d: 0, e: 0 };

  function showQuestion() {
    if (currentQuestionIndex >= quizData.length) {
      showResult();
      return;
    }

    progressBar.style.width = `${(currentQuestionIndex / quizData.length) * 100}%`;

    const q = quizData[currentQuestionIndex];
    quizContent.innerHTML = `
      <h2>${q.question}</h2>
      <div class="answers-list">
        ${q.answers.map(ans =>
          `<button class="answer-btn" data-type="${ans.type}">${ans.text}</button>`
        ).join('')}
      </div>
    `;

    document.querySelectorAll('.answer-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const type = btn.getAttribute('data-type');
        answersCount[type]++;
        currentQuestionIndex++;
        showQuestion();
      });
    });
  }

  function showResult() {
    progressBar.style.width = '100%';
    quizContainer.style.display = 'none';
    resultContainer.style.display = 'block';

    const maxType = Object.keys(answersCount).reduce((a, b) =>
      answersCount[a] > answersCount[b] ? a : b
    );

    const results = {
  a: {
    text: "Ты — человек огня, наполненный энергией, страстью и непреодолимым желанием действовать. В тебе живёт искра, которая освещает путь не только тебе, но и тем, кто идёт рядом. Ты не боишься трудностей и с азартом принимаешь каждый вызов. Мир для тебя — арена возможностей, где главное — не сидеть на месте, а стремиться, мечтать, любить и творить.",

  },
  b: {
    text: "Ты — воплощение спокойствия и внутренней гармонии. Твоя душа словно утреннее небо, чистое и ясное, где каждая мысль находит своё место. Ты умеешь создавать вокруг себя атмосферу покоя и доверия, ценишь простые радости и умеешь наслаждаться моментом. Твоё сердце ищет не шума, а тишины, в которой рождаются настоящие чувства и важные мысли.",

  },
  c: {
    text: "Ты — человек тайны и глубины. Твои мысли подобны звёздному небу: чем дольше вглядываешься, тем больше видишь. В тебе живёт любовь к неизведанному, тяга к философии, мистике и поиску сокровенного смысла. Ты умеешь замечать то, что скрыто от большинства, и воспринимаешь мир не поверхностно, а сердцем. Для тебя важны моменты уединения и внутреннего диалога.",

  },
  d: {
    text: "Ты — светлый человек, наполненный оптимизмом и жизнерадостностью. Ты умеешь видеть красоту в самых простых вещах и заражать этим окружающих. Твоё присутствие — это всегда тёплое солнце даже в пасмурный день. Ты веришь в добро, вдохновляешь других и всегда стремишься сделать жизнь ярче, легче и светлее. В тебе живёт энергия радости и детского восторга.",

  },
  e: {
    text: "Ты — человек земли, близкий к природе и её ритмам. Твоя душа устойчива, как корни старого дерева, и в то же время гибка, как листья, трепещущие на ветру. Ты ценишь стабильность, надёжность и верность своим убеждениям. В твоей жизни важен баланс: между внешним и внутренним, между движением и покоем. Ты умеешь быть частью мира, не теряя себя.",

  }
};


    resultText.textContent = results[maxType].text;
  }

  restartBtn.addEventListener('click', () => {
    currentQuestionIndex = 0;
    answersCount = { a: 0, b: 0, c: 0, d: 0, e: 0 };
    quizContainer.style.display = 'block';
    resultContainer.style.display = 'none';
    showQuestion();
  });

  homeBtn.addEventListener('click', () => {
    window.location.href = 'quiz-list.html';
  });

  showQuestion();
});
